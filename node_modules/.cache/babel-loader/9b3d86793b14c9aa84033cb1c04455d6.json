{"ast":null,"code":"var _jsxFileName = \"/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport settings from './settings.jpg';\nimport Modal from './components/Modal';\nimport Prize from './components/Prize';\nimport plus from './plus.png';\nimport star from './Star.png';\nimport PrizesContainer from './containers/PrizesContainer.js';\nimport Home from './components/Home.js';\nimport AddTicketModal from './components/AddTicketModal.js';\nimport UsersContainer from './components/UsersContainer.js';\nimport UserScreen from './UserScreen.png';\nimport PrizeScreen from './PrizeScreen.png';\nimport UserScreenSelect from './UserScreenSelect.png';\nimport PrizeScreenSelect from './PrizeScreenSelect.png';\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\";\nconst userURL = \"http://localhost:3000/api/v1/users\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      avatar: null,\n      count: 0,\n      title: '',\n      price: 0,\n      prizeimage: null,\n      show: false,\n      prize: '',\n      prizes: [],\n      addPrize: false,\n      addTicket: false,\n      user: '',\n      userid: '',\n      users: [],\n      settings: false,\n      addChild: false,\n      status: '',\n      fetch: [],\n      page: false,\n      buyPrize: false,\n      homepage: true,\n      showDeletePrize: false\n    };\n\n    this.handlePrizeSubmit = e => {\n      e.preventDefault();\n      console.log(e.target.parentNode.children[3].files[0]); // const title = e.target.parentNode.children[0].value\n      // const price = e.target.parentNode.children[2].value.split(\" \")[0]\n      // const prizeimage = e.target.parentNode.children[3].files[0]\n      // this.setState({ title, price, prizeimage })\n    };\n\n    this.postPrize = e => {\n      e.preventDefault();\n      const prize = new FormData();\n      prize.append('title', this.state.title);\n      prize.append('price', this.state.price);\n      prize.append('prizeimage', this.state.prizeimage);\n      prize.append('count', 0);\n      fetch(prizeURL, {\n        method: 'POST',\n        body: prize\n      }).catch(err => console.log(err));\n    };\n\n    this.postChild = e => {\n      e.preventDefault();\n      const child = new FormData();\n      child.append('name', this.state.name);\n      child.append('avatar', this.state.avatar);\n      child.append('count', 0);\n      fetch(userURL, {\n        method: 'POST',\n        body: child\n      }).catch(err => console.log(err));\n    };\n\n    this.subtractFromCount = () => {\n      const count = this.state.count - this.state.price;\n      this.setState({\n        count\n      });\n      const prizeName = this.state.prize;\n      this.setState({\n        [prizeName]: 15,\n        show: !this.state.show\n      });\n    };\n\n    this.incrementCount = e => {\n      e.preventDefault();\n      const user = e.target.parentNode.id;\n      const count = e.target.innerHTML;\n      const userid = e.target.id;\n      this.setState({\n        count,\n        user,\n        userid\n      });\n      this.setState({\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.plusTicket = e => {\n      const id = this.state.userid;\n      console.log(id);\n      fetch(userURL + '/' + id, {\n        method: 'PATCH',\n        body: JSON.stringify({\n          count: ++this.state.count\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(res => res.json()).then(json => console.log(json));\n      this.setState({\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.handleMinusClick = () => {\n      this.setState(({\n        count\n      }) => ({\n        count: count - 1\n      }));\n    };\n\n    this.handlePrizeClick = e => {\n      const newPrize = e.target.alt;\n      const newPrice = this.state[newPrize];\n      this.setState({\n        prize: newPrize,\n        price: newPrice,\n        show: !this.state.show\n      });\n    };\n\n    this.handleUserClick = () => {\n      this.setState({\n        homepage: true\n      });\n      console.log('it hit!');\n    };\n\n    this.handleAddPrizeClick = () => {\n      this.setState({\n        addPrize: !this.state.addPrize\n      });\n    };\n\n    this.handleBuyPrizeClick = () => {\n      this.setState({\n        buyPrize: !this.state.buyPrize\n      });\n    };\n\n    this.handleSettingsCancelClick = () => {\n      this.setState({\n        settings: false\n      });\n    };\n\n    this.AddStarNoClick = () => {\n      this.setState({\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.handleStarClick = e => {\n      const user = e.target.alt;\n      console.log(e.target.alt);\n      this.setState({\n        addTicket: !this.state.addTicket,\n        user\n      });\n    };\n\n    this.handleSettingsClick = () => {\n      this.setState({\n        settings: !this.state.settings\n      });\n    };\n\n    this.addChild = () => {\n      this.setState({\n        addChild: !this.state.addChild\n      });\n    };\n\n    this.submitChild = e => {\n      e.preventDefault();\n      this.setState({\n        name: e.target.parentNode.children[6].value,\n        avatar: e.target.parentNode.children[8].files[0]\n      });\n    };\n\n    this.deleteChild = e => {\n      e.preventDefault();\n      const id = e.target.id;\n      fetch(userURL + '/' + id, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(res => console.log(res));\n    };\n\n    this.handlePrizePageClick = () => {\n      this.setState({\n        homepage: false\n      });\n    };\n\n    this.deletePrize = e => {\n      e.preventDefault();\n      const id = e.target.id;\n      fetch(prizeURL + '/' + id, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(res => console.log(res));\n    };\n\n    this.handleShowDeletePrize = () => {\n      this.setState({\n        showDeletePrize: !this.state.deletePrize\n      });\n    };\n\n    this.closeDeletePrize = () => {\n      this.setState({\n        showDeletePrize: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch(prizeURL), fetch(userURL)]).then(results => Promise.all(results.map(r => r.json()))).then(d => this.setState({\n      prizes: d[0],\n      users: d[1]\n    }));\n  }\n\n  render() {\n    console.log(this.state.showDeletePrize);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, this.state.homepage ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"nav-button-star-yellow\",\n      src: UserScreenSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 39\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"nav-button-star\",\n      onClick: this.handleUserClick,\n      src: UserScreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, !this.state.homepage ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"nav-button-circle-yellow\",\n      src: PrizeScreenSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 40\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"nav-button-circle\",\n      onClick: this.handlePrizePageClick,\n      addTicket: this.state.addTicket,\n      user: this.state.user,\n      src: PrizeScreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UsersContainer, {\n      users: this.state.users,\n      count: this.state.count,\n      prizes: this.state.prizes,\n      subtractFromCount: this.subtractFromCount,\n      handlePrizeClick: this.handlePrizeClick,\n      prize: this.state.prize,\n      show: this.state.show,\n      count: this.state.count,\n      plusTicket: this.plusTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PrizesContainer, {\n      handleShowDeletePrize: this.handleShowDeletePrize,\n      showDeletePrize: this.state.showDeletePrize,\n      closeDeletePrize: this.closeDeletePrize,\n      deletePrize: this.deletePrize,\n      postPrize: this.postPrize,\n      handlePrizeSubmit: this.handlePrizeSubmit,\n      prizes: this.state.prizes,\n      handleAddPrizeClick: this.handleAddPrizeClick,\n      addPrize: this.state.addPrize,\n      bouncyball: this.state.bouncyball,\n      dino: this.state.dino,\n      peppa: this.state.peppa,\n      chalk: this.state.chalk,\n      lizards: this.state.lizards,\n      fish: this.state.fish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      user: this.state.user,\n      cancel: this.AddStarNoClick,\n      fetch: this.state.fetch,\n      deleteChild: this.deleteChild,\n      postChild: this.postChild,\n      submitChild: this.submitChild,\n      showAddChild: this.state.addChild,\n      addChild: this.addChild,\n      settings: this.state.settings,\n      handleSettingsClick: this.handleSettingsClick,\n      handleSettingsCancelClick: this.handleSettingsCancelClick,\n      users: this.state.users,\n      count: this.state.count,\n      incrementCount: this.incrementCount,\n      handleStarClick: this.handleStarClick,\n      addTicket: this.state.addTicket,\n      plusTicket: this.plusTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","settings","Modal","Prize","plus","star","PrizesContainer","Home","AddTicketModal","UsersContainer","UserScreen","PrizeScreen","UserScreenSelect","PrizeScreenSelect","prizeURL","userURL","App","state","name","avatar","count","title","price","prizeimage","show","prize","prizes","addPrize","addTicket","user","userid","users","addChild","status","fetch","page","buyPrize","homepage","showDeletePrize","handlePrizeSubmit","e","preventDefault","console","log","target","parentNode","children","files","postPrize","FormData","append","method","body","catch","err","postChild","child","subtractFromCount","setState","prizeName","incrementCount","id","innerHTML","plusTicket","JSON","stringify","headers","then","res","json","handleMinusClick","handlePrizeClick","newPrize","alt","newPrice","handleUserClick","handleAddPrizeClick","handleBuyPrizeClick","handleSettingsCancelClick","AddStarNoClick","handleStarClick","handleSettingsClick","submitChild","value","deleteChild","handlePrizePageClick","deletePrize","handleShowDeletePrize","closeDeletePrize","componentDidMount","Promise","all","results","map","r","d","render","bouncyball","dino","peppa","chalk","lizards","fish"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,QAKO,kBALP;AAMA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,gBAAP,MAA6B,wBAA7B;AACA,OAAOC,iBAAP,MAA8B,yBAA9B;AAGA,MAAMC,QAAQ,GAAG,qCAAjB;AACA,MAAMC,OAAO,GAAG,oCAAhB;;AAGA,MAAMC,GAAN,SAAkBrB,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAE1BsB,KAF0B,GAElB;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,MAAM,EAAE,IAFF;AAGNC,MAAAA,KAAK,EAAE,CAHD;AAINC,MAAAA,KAAK,EAAE,EAJD;AAKNC,MAAAA,KAAK,EAAE,CALD;AAMNC,MAAAA,UAAU,EAAE,IANN;AAONC,MAAAA,IAAI,EAAE,KAPA;AAQNC,MAAAA,KAAK,EAAE,EARD;AASNC,MAAAA,MAAM,EAAE,EATF;AAUNC,MAAAA,QAAQ,EAAE,KAVJ;AAWNC,MAAAA,SAAS,EAAE,KAXL;AAYNC,MAAAA,IAAI,EAAE,EAZA;AAaNC,MAAAA,MAAM,EAAC,EAbD;AAcNC,MAAAA,KAAK,EAAE,EAdD;AAeN9B,MAAAA,QAAQ,EAAE,KAfJ;AAgBN+B,MAAAA,QAAQ,EAAE,KAhBJ;AAiBNC,MAAAA,MAAM,EAAE,EAjBF;AAkBNC,MAAAA,KAAK,EAAE,EAlBD;AAmBNC,MAAAA,IAAI,EAAE,KAnBA;AAoBNC,MAAAA,QAAQ,EAAE,KApBJ;AAqBNC,MAAAA,QAAQ,EAAE,IArBJ;AAsBNC,MAAAA,eAAe,EAAE;AAtBX,KAFkB;;AAAA,SAwC1BC,iBAxC0B,GAwCLC,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACC,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAC,CAACI,MAAF,CAASC,UAAT,CAAoBC,QAApB,CAA6B,CAA7B,EAAgCC,KAAhC,CAAsC,CAAtC,CAAZ,EAFyB,CAGzB;AACA;AACA;AACA;AACD,KA/CyB;;AAAA,SAiD1BC,SAjD0B,GAiDbR,CAAD,IAAO;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMhB,KAAK,GAAG,IAAIwB,QAAJ,EAAd;AACAxB,MAAAA,KAAK,CAACyB,MAAN,CAAa,OAAb,EAAsB,KAAKjC,KAAL,CAAWI,KAAjC;AACAI,MAAAA,KAAK,CAACyB,MAAN,CAAa,OAAb,EAAsB,KAAKjC,KAAL,CAAWK,KAAjC;AACAG,MAAAA,KAAK,CAACyB,MAAN,CAAa,YAAb,EAA2B,KAAKjC,KAAL,CAAWM,UAAtC;AACAE,MAAAA,KAAK,CAACyB,MAAN,CAAa,OAAb,EAAsB,CAAtB;AACAhB,MAAAA,KAAK,CAAEpB,QAAF,EAAY;AACfqC,QAAAA,MAAM,EAAE,MADO;AAEfC,QAAAA,IAAI,EAAE3B;AAFS,OAAZ,CAAL,CAIC4B,KAJD,CAIOC,GAAG,IAAIZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAJd;AAKD,KA7DyB;;AAAA,SA+D1BC,SA/D0B,GA+Dbf,CAAD,IAAO;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMe,KAAK,GAAG,IAAIP,QAAJ,EAAd;AACAO,MAAAA,KAAK,CAACN,MAAN,CAAa,MAAb,EAAqB,KAAKjC,KAAL,CAAWC,IAAhC;AACAsC,MAAAA,KAAK,CAACN,MAAN,CAAa,QAAb,EAAuB,KAAKjC,KAAL,CAAWE,MAAlC;AACAqC,MAAAA,KAAK,CAACN,MAAN,CAAa,OAAb,EAAsB,CAAtB;AACAhB,MAAAA,KAAK,CAAEnB,OAAF,EAAW;AACdoC,QAAAA,MAAM,EAAE,MADM;AAEdC,QAAAA,IAAI,EAAEI;AAFQ,OAAX,CAAL,CAICH,KAJD,CAIOC,GAAG,IAAIZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAJd;AAKD,KA1EyB;;AAAA,SA4E1BG,iBA5E0B,GA4EN,MAAM;AACxB,YAAMrC,KAAK,GAAG,KAAKH,KAAL,CAAWG,KAAX,GAAmB,KAAKH,KAAL,CAAWK,KAA5C;AACA,WAAKoC,QAAL,CAAc;AAAEtC,QAAAA;AAAF,OAAd;AACA,YAAMuC,SAAS,GAAG,KAAK1C,KAAL,CAAWQ,KAA7B;AACA,WAAKiC,QAAL,CAAc;AACZ,SAACC,SAAD,GAAc,EADF;AAEZnC,QAAAA,IAAI,EAAE,CAAC,KAAKP,KAAL,CAAWO;AAFN,OAAd;AAID,KApFyB;;AAAA,SAsF1BoC,cAtF0B,GAsFRpB,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMZ,IAAI,GAAGW,CAAC,CAACI,MAAF,CAASC,UAAT,CAAoBgB,EAAjC;AACA,YAAMzC,KAAK,GAAGoB,CAAC,CAACI,MAAF,CAASkB,SAAvB;AACA,YAAMhC,MAAM,GAAGU,CAAC,CAACI,MAAF,CAASiB,EAAxB;AAEA,WAAKH,QAAL,CAAc;AAAEtC,QAAAA,KAAF;AAAUS,QAAAA,IAAV;AAAgBC,QAAAA;AAAhB,OAAd;AACA,WAAK4B,QAAL,CAAc;AAAE9B,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAAzB,OAAd;AAED,KA/FyB;;AAAA,SAiG1BmC,UAjG0B,GAiGZvB,CAAD,IAAO;AAElB,YAAMqB,EAAE,GAAG,KAAK5C,KAAL,CAAWa,MAAtB;AAEAY,MAAAA,OAAO,CAACC,GAAR,CAAYkB,EAAZ;AAEA3B,MAAAA,KAAK,CAAEnB,OAAO,GAAG,GAAV,GAAgB8C,EAAlB,EAAsB;AAC3BV,QAAAA,MAAM,EAAE,OADmB;AAE3BC,QAAAA,IAAI,EAAEY,IAAI,CAACC,SAAL,CAAe;AACnB7C,UAAAA,KAAK,EAAE,EAAE,KAAKH,KAAL,CAAWG;AADD,SAAf,CAFqB;AAK3B8C,QAAAA,OAAO,EAAE;AACH,0BAAgB,kBADb;AAEH,oBAAU;AAFP;AALkB,OAAtB,CAAL,CAUDC,IAVC,CAUIC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVX,EAWDF,IAXC,CAWIE,IAAI,IAAI3B,OAAO,CAACC,GAAR,CAAY0B,IAAZ,CAXZ;AAaF,WAAKX,QAAL,CAAc;AAAE9B,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAAzB,OAAd;AACC,KArHyB;;AAAA,SAwH1B0C,gBAxH0B,GAwHP,MAAM;AACvB,WAAKZ,QAAL,CAAc,CAAC;AAAEtC,QAAAA;AAAF,OAAD,MAAgB;AAC5BA,QAAAA,KAAK,EAAEA,KAAK,GAAG;AADa,OAAhB,CAAd;AAGD,KA5HyB;;AAAA,SA8H5BmD,gBA9H4B,GA8HR/B,CAAD,IAAO;AACxB,YAAMgC,QAAQ,GAAGhC,CAAC,CAACI,MAAF,CAAS6B,GAA1B;AACA,YAAMC,QAAQ,GAAG,KAAKzD,KAAL,CAAWuD,QAAX,CAAjB;AACA,WAAKd,QAAL,CAAc;AACZjC,QAAAA,KAAK,EAAE+C,QADK;AAEZlD,QAAAA,KAAK,EAAEoD,QAFK;AAGZlD,QAAAA,IAAI,EAAE,CAAC,KAAKP,KAAL,CAAWO;AAHN,OAAd;AAKD,KAtI2B;;AAAA,SAwI5BmD,eAxI4B,GAwIV,MAAM;AACtB,WAAKjB,QAAL,CAAc;AAAErB,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,KA3I2B;;AAAA,SA6I5BiC,mBA7I4B,GA6IN,MAAM;AAC1B,WAAKlB,QAAL,CAAc;AACZ/B,QAAAA,QAAQ,EAAE,CAAC,KAAKV,KAAL,CAAWU;AADV,OAAd;AAGD,KAjJ2B;;AAAA,SAmJ5BkD,mBAnJ4B,GAmJN,MAAM;AAC1B,WAAKnB,QAAL,CAAc;AACZtB,QAAAA,QAAQ,EAAE,CAAC,KAAKnB,KAAL,CAAWmB;AADV,OAAd;AAGD,KAvJ2B;;AAAA,SAyJ5B0C,yBAzJ4B,GAyJA,MAAM;AAChC,WAAKpB,QAAL,CAAc;AACZzD,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KA7J2B;;AAAA,SA+J5B8E,cA/J4B,GA+JX,MAAM;AACrB,WAAKrB,QAAL,CAAc;AAAE9B,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAAzB,OAAd;AACD,KAjK2B;;AAAA,SAmK5BoD,eAnK4B,GAmKTxC,CAAD,IAAO;AACvB,YAAMX,IAAI,GAAGW,CAAC,CAACI,MAAF,CAAS6B,GAAtB;AACA/B,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAC,CAACI,MAAF,CAAS6B,GAArB;AACA,WAAKf,QAAL,CAAc;AACZ9B,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW,SADX;AAEZC,QAAAA;AAFY,OAAd;AAID,KA1K2B;;AAAA,SA4K5BoD,mBA5K4B,GA4KN,MAAM;AAC1B,WAAKvB,QAAL,CAAc;AAAEzD,QAAAA,QAAQ,EAAE,CAAC,KAAKgB,KAAL,CAAWhB;AAAxB,OAAd;AACD,KA9K2B;;AAAA,SAgL5B+B,QAhL4B,GAgLjB,MAAM;AACf,WAAK0B,QAAL,CAAc;AACZ1B,QAAAA,QAAQ,EAAE,CAAC,KAAKf,KAAL,CAAWe;AADV,OAAd;AAGD,KApL2B;;AAAA,SAsL5BkD,WAtL4B,GAsLb1C,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AAEA,WAAKiB,QAAL,CAAc;AACZxC,QAAAA,IAAI,EAAEsB,CAAC,CAACI,MAAF,CAASC,UAAT,CAAoBC,QAApB,CAA6B,CAA7B,EAAgCqC,KAD1B;AAEZhE,QAAAA,MAAM,EAAEqB,CAAC,CAACI,MAAF,CAASC,UAAT,CAAoBC,QAApB,CAA6B,CAA7B,EAAgCC,KAAhC,CAAsC,CAAtC;AAFI,OAAd;AAID,KA7L2B;;AAAA,SAgM5BqC,WAhM4B,GAgMb5C,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMoB,EAAE,GAAGrB,CAAC,CAACI,MAAF,CAASiB,EAApB;AACA3B,MAAAA,KAAK,CAAEnB,OAAO,GAAG,GAAV,GAAgB8C,EAAlB,EAAsB;AACzBV,QAAAA,MAAM,EAAE;AADiB,OAAtB,CAAL,CAGCgB,IAHD,CAGMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHb,EAICF,IAJD,CAIMC,GAAG,IAAI1B,OAAO,CAACC,GAAR,CAAYyB,GAAZ,CAJb;AAKD,KAxM2B;;AAAA,SA0M5BiB,oBA1M4B,GA0ML,MAAM;AAC3B,WAAK3B,QAAL,CAAc;AAAErB,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD,KA5M2B;;AAAA,SA8M5BiD,WA9M4B,GA8Mb9C,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMoB,EAAE,GAAGrB,CAAC,CAACI,MAAF,CAASiB,EAApB;AACA3B,MAAAA,KAAK,CAAEpB,QAAQ,GAAG,GAAX,GAAiB+C,EAAnB,EAAuB;AAC1BV,QAAAA,MAAM,EAAE;AADkB,OAAvB,CAAL,CAGCgB,IAHD,CAGMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHb,EAICF,IAJD,CAIMC,GAAG,IAAI1B,OAAO,CAACC,GAAR,CAAYyB,GAAZ,CAJb;AAKD,KAtN2B;;AAAA,SAwN5BmB,qBAxN4B,GAwNJ,MAAM;AAC5B,WAAK7B,QAAL,CAAc;AAAEpB,QAAAA,eAAe,EAAE,CAAC,KAAKrB,KAAL,CAAWqE;AAA/B,OAAd;AACD,KA1N2B;;AAAA,SA4N5BE,gBA5N4B,GA4NT,MAAM;AACvB,WAAK9B,QAAL,CAAc;AAAEpB,QAAAA,eAAe,EAAE;AAAnB,OAAd;AACD,KA9N2B;AAAA;;AA4B1BmD,EAAAA,iBAAiB,GAAG;AAElBC,IAAAA,OAAO,CAACC,GAAR,CAAY,CACVzD,KAAK,CAAEpB,QAAF,CADK,EAEVoB,KAAK,CAAEnB,OAAF,CAFK,CAAZ,EAGGoD,IAHH,CAGSyB,OAAD,IACRF,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,CAAC,IAAIA,CAAC,CAACzB,IAAF,EAAjB,CAAZ,CAJA,EAKAF,IALA,CAKK4B,CAAC,IAAI,KAAKrC,QAAL,CAAc;AAAEhC,MAAAA,MAAM,EAAEqE,CAAC,CAAC,CAAD,CAAX;AAAgBhE,MAAAA,KAAK,EAAEgE,CAAC,CAAC,CAAD;AAAxB,KAAd,CALV;AAOH;;AA2LCC,EAAAA,MAAM,GAAG;AACXtD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK1B,KAAL,CAAWqB,eAAvB;AACI,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,KAAKrB,KAAL,CAAWoB,QAAX,gBAAsB;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAwC,MAAA,GAAG,EAAEzB,gBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAA0F,IAD9F,eAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAiC,MAAA,OAAO,EAAE,KAAK+D,eAA/C;AAAgE,MAAA,GAAG,EAAEjE,UAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,CAAC,KAAKO,KAAL,CAAWoB,QAAZ,gBAAuB;AAAK,MAAA,SAAS,EAAC,0BAAf;AAA0C,MAAA,GAAG,EAAExB,iBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvB,GAA8F,IADlG,eAEE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,OAAO,EAAE,KAAKwE,oBAAjD;AAAuE,MAAA,SAAS,EAAE,KAAKpE,KAAL,CAAWW,SAA7F;AAAwG,MAAA,IAAI,EAAE,KAAKX,KAAL,CAAWY,IAAzH;AAA+H,MAAA,GAAG,EAAElB,WAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CALF,CADF,eAWE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AAAgB,MAAA,KAAK,EAAE,KAAKM,KAAL,CAAWc,KAAlC;AAA0C,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWG,KAA5D;AAAmE,MAAA,MAAM,EAAE,KAAKH,KAAL,CAAWS,MAAtF;AAA8F,MAAA,iBAAiB,EAAE,KAAK+B,iBAAtH;AAAyI,MAAA,gBAAgB,EAAE,KAAKc,gBAAhK;AAAkL,MAAA,KAAK,EAAE,KAAKtD,KAAL,CAAWQ,KAApM;AAA2M,MAAA,IAAI,EAAE,KAAKR,KAAL,CAAWO,IAA5N;AAAkO,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWG,KAApP;AAA2P,MAAA,UAAU,EAAE,KAAK2C,UAA5Q;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,eAAD;AAAiB,MAAA,qBAAqB,EAAE,KAAKwB,qBAA7C;AAAoE,MAAA,eAAe,EAAE,KAAKtE,KAAL,CAAWqB,eAAhG;AAAiH,MAAA,gBAAgB,EAAE,KAAKkD,gBAAxI;AAA0J,MAAA,WAAW,EAAE,KAAKF,WAA5K;AAAyL,MAAA,SAAS,EAAE,KAAKtC,SAAzM;AAAoN,MAAA,iBAAiB,EAAE,KAAKT,iBAA5O;AAA+P,MAAA,MAAM,EAAE,KAAKtB,KAAL,CAAWS,MAAlR;AAA0R,MAAA,mBAAmB,EAAE,KAAKkD,mBAApT;AAAyU,MAAA,QAAQ,EAAE,KAAK3D,KAAL,CAAWU,QAA9V;AAAwW,MAAA,UAAU,EAAE,KAAKV,KAAL,CAAWgF,UAA/X;AAA2Y,MAAA,IAAI,EAAE,KAAKhF,KAAL,CAAWiF,IAA5Z;AAAka,MAAA,KAAK,EAAE,KAAKjF,KAAL,CAAWkF,KAApb;AAA2b,MAAA,KAAK,EAAE,KAAKlF,KAAL,CAAWmF,KAA7c;AAAod,MAAA,OAAO,EAAE,KAAKnF,KAAL,CAAWoF,OAAxe;AAAif,MAAA,IAAI,EAAE,KAAKpF,KAAL,CAAWqF,IAAlgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,eAOE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE,KAAKrF,KAAL,CAAWY,IAAvB;AAA6B,MAAA,MAAM,EAAE,KAAKkD,cAA1C;AAA0D,MAAA,KAAK,EAAE,KAAK9D,KAAL,CAAWiB,KAA5E;AAAmF,MAAA,WAAW,EAAE,KAAKkD,WAArG;AAAkH,MAAA,SAAS,EAAE,KAAK7B,SAAlI;AAA6I,MAAA,WAAW,EAAE,KAAK2B,WAA/J;AAA4K,MAAA,YAAY,EAAE,KAAKjE,KAAL,CAAWe,QAArM;AAA+M,MAAA,QAAQ,EAAE,KAAKA,QAA9N;AAAwO,MAAA,QAAQ,EAAE,KAAKf,KAAL,CAAWhB,QAA7P;AAAuQ,MAAA,mBAAmB,EAAE,KAAKgF,mBAAjS;AAAsT,MAAA,yBAAyB,EAAE,KAAKH,yBAAtV;AAAiX,MAAA,KAAK,EAAE,KAAK7D,KAAL,CAAWc,KAAnY;AAA0Y,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWG,KAA5Z;AAAma,MAAA,cAAc,EAAE,KAAKwC,cAAxb;AAAwc,MAAA,eAAe,EAAE,KAAKoB,eAA9d;AAA+e,MAAA,SAAS,EAAE,KAAK/D,KAAL,CAAWW,SAArgB;AAAghB,MAAA,UAAU,EAAE,KAAKmC,UAAjiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,CAXF,CADF,CADF;AA4BD;;AA9PyB;;AAiQ5B,eAAe/C,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport './App.css';\nimport settings from './settings.jpg'\nimport Modal from './components/Modal'\nimport Prize from './components/Prize';\nimport plus from './plus.png'\nimport star from './Star.png'\nimport PrizesContainer from './containers/PrizesContainer.js'\nimport Home from './components/Home.js'\nimport AddTicketModal from './components/AddTicketModal.js'\nimport UsersContainer from './components/UsersContainer.js'\nimport UserScreen from './UserScreen.png'\nimport PrizeScreen from './PrizeScreen.png'\nimport UserScreenSelect from './UserScreenSelect.png'\nimport PrizeScreenSelect from './PrizeScreenSelect.png'\n\n\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\"\nconst userURL = \"http://localhost:3000/api/v1/users\"\n\n\nclass App extends Component {\n\n  state = {\n    name: '',\n    avatar: null,\n    count: 0,\n    title: '',\n    price: 0,\n    prizeimage: null,\n    show: false,\n    prize: '',\n    prizes: [],\n    addPrize: false,\n    addTicket: false,\n    user: '',\n    userid:'',\n    users: [],\n    settings: false,\n    addChild: false,\n    status: '',\n    fetch: [],\n    page: false,\n    buyPrize: false,\n    homepage: true,\n    showDeletePrize: false\n  }\n\n\n  componentDidMount() {\n\n    Promise.all([\n      fetch( prizeURL ),\n      fetch( userURL ),\n    ]).then((results) =>\n    Promise.all(results.map(r => r.json()))\n  ).then(d => this.setState({ prizes: d[0], users: d[1] })\n)\n}\n\n\n  handlePrizeSubmit = (e) => {\n    e.preventDefault();\n    console.log(e.target.parentNode.children[3].files[0])\n    // const title = e.target.parentNode.children[0].value\n    // const price = e.target.parentNode.children[2].value.split(\" \")[0]\n    // const prizeimage = e.target.parentNode.children[3].files[0]\n    // this.setState({ title, price, prizeimage })\n  }\n\n  postPrize = (e) => {\n    e.preventDefault();\n    const prize = new FormData();\n    prize.append('title', this.state.title);\n    prize.append('price', this.state.price);\n    prize.append('prizeimage', this.state.prizeimage);\n    prize.append('count', 0);\n    fetch( prizeURL, {\n      method: 'POST',\n      body: prize\n    })\n    .catch(err => console.log(err));\n  }\n\n  postChild = (e) => {\n    e.preventDefault();\n    const child = new FormData();\n    child.append('name', this.state.name);\n    child.append('avatar', this.state.avatar);\n    child.append('count', 0);\n    fetch( userURL, {\n      method: 'POST',\n      body: child\n    })\n    .catch(err => console.log(err));\n  }\n\n  subtractFromCount = () => {\n    const count = this.state.count - this.state.price\n    this.setState({ count })\n    const prizeName = this.state.prize\n    this.setState({\n      [prizeName] : 15,\n      show: !this.state.show\n     })\n  }\n\n  incrementCount = (e) => {\n    e.preventDefault()\n    const user = e.target.parentNode.id\n    const count = e.target.innerHTML\n    const userid = e.target.id\n\n    this.setState({ count , user, userid  })\n    this.setState({ addTicket: !this.state.addTicket})\n\n  };\n\n  plusTicket = (e) => {\n\n    const id = this.state.userid\n\n    console.log(id)\n\n    fetch( userURL + '/' + id, {\n    method: 'PATCH',\n    body: JSON.stringify({\n      count: ++this.state.count\n    }),\n    headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n  })\n  .then(res => res.json())\n  .then(json => console.log(json))\n\n  this.setState({ addTicket: !this.state.addTicket })\n  }\n\n\n  handleMinusClick = () => {\n    this.setState(({ count }) => ({\n      count: count - 1\n    }));\n  };\n\nhandlePrizeClick = (e) => {\n  const newPrize = e.target.alt\n  const newPrice = this.state[newPrize]\n  this.setState({\n    prize: newPrize,\n    price: newPrice,\n    show: !this.state.show\n  })\n}\n\nhandleUserClick = () => {\n  this.setState({ homepage: true })\n  console.log('it hit!')\n}\n\nhandleAddPrizeClick = () => {\n  this.setState({\n    addPrize: !this.state.addPrize\n  })\n}\n\nhandleBuyPrizeClick = () => {\n  this.setState({\n    buyPrize: !this.state.buyPrize\n  })\n}\n\nhandleSettingsCancelClick = () => {\n  this.setState({\n    settings: false\n  })\n}\n\nAddStarNoClick = () => {\n  this.setState({ addTicket: !this.state.addTicket })\n}\n\nhandleStarClick = (e) => {\n  const user = e.target.alt\n  console.log(e.target.alt)\n  this.setState({\n    addTicket: !this.state.addTicket,\n    user\n  })\n}\n\nhandleSettingsClick = () => {\n  this.setState({ settings: !this.state.settings })\n}\n\naddChild = () => {\n  this.setState({\n    addChild: !this.state.addChild\n  })\n}\n\nsubmitChild = (e) => {\n  e.preventDefault()\n\n  this.setState({\n    name: e.target.parentNode.children[6].value,\n    avatar: e.target.parentNode.children[8].files[0]\n   })\n}\n\n\ndeleteChild = (e) => {\n  e.preventDefault();\n  const id = e.target.id\n  fetch( userURL + '/' + id, {\n    method: 'DELETE',\n  })\n  .then(res => res.json())\n  .then(res => console.log(res))\n}\n\nhandlePrizePageClick = () => {\n  this.setState({ homepage: false })\n}\n\ndeletePrize = (e) => {\n  e.preventDefault();\n  const id = e.target.id\n  fetch( prizeURL + '/' + id, {\n    method: 'DELETE',\n  })\n  .then(res => res.json())\n  .then(res => console.log(res))\n}\n\nhandleShowDeletePrize = () => {\n  this.setState({ showDeletePrize: !this.state.deletePrize })\n}\n\ncloseDeletePrize = () => {\n  this.setState({ showDeletePrize: false })\n}\n\n  render() {\nconsole.log(this.state.showDeletePrize)\n    return (\n      <div className=\"App\">\n        <Router>\n          <div className=\"nav\">\n            <Link to=\"/\">\n              { this.state.homepage ? <img className=\"nav-button-star-yellow\" src={UserScreenSelect} /> : null }\n              <img className=\"nav-button-star\" onClick={this.handleUserClick} src={UserScreen} />\n            </Link>\n            <Link to=\"/prizes\">\n              { !this.state.homepage ? <img className=\"nav-button-circle-yellow\" src={PrizeScreenSelect} /> : null }\n              <img className=\"nav-button-circle\" onClick={this.handlePrizePageClick} addTicket={this.state.addTicket} user={this.state.user} src={PrizeScreen} />\n            </Link>\n          </div>\n          <Switch>\n            <Route path=\"/users\">\n              <UsersContainer users={this.state.users}  count={this.state.count} prizes={this.state.prizes} subtractFromCount={this.subtractFromCount} handlePrizeClick={this.handlePrizeClick} prize={this.state.prize} show={this.state.show} count={this.state.count} plusTicket={this.plusTicket} />\n            </Route>\n            <Route path=\"/prizes\">\n              <PrizesContainer handleShowDeletePrize={this.handleShowDeletePrize} showDeletePrize={this.state.showDeletePrize} closeDeletePrize={this.closeDeletePrize} deletePrize={this.deletePrize} postPrize={this.postPrize} handlePrizeSubmit={this.handlePrizeSubmit} prizes={this.state.prizes} handleAddPrizeClick={this.handleAddPrizeClick} addPrize={this.state.addPrize} bouncyball={this.state.bouncyball} dino={this.state.dino} peppa={this.state.peppa} chalk={this.state.chalk} lizards={this.state.lizards} fish={this.state.fish} />\n            </Route>\n            <Route path=\"/\">\n              <Home user={this.state.user} cancel={this.AddStarNoClick} fetch={this.state.fetch} deleteChild={this.deleteChild} postChild={this.postChild} submitChild={this.submitChild} showAddChild={this.state.addChild} addChild={this.addChild} settings={this.state.settings} handleSettingsClick={this.handleSettingsClick} handleSettingsCancelClick={this.handleSettingsCancelClick} users={this.state.users} count={this.state.count} incrementCount={this.incrementCount} handleStarClick={this.handleStarClick} addTicket={this.state.addTicket} plusTicket={this.plusTicket} />\n            </Route>\n          </Switch>\n        </Router>\n\n  </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}