{"ast":null,"code":"var _jsxFileName = \"/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport settings from './settings.jpg';\nimport Modal from './components/Modal';\nimport Prize from './components/Prize';\nimport plus from './plus.png';\nimport star from './Star.png';\nimport PrizesContainer from './containers/PrizesContainer.js';\nimport Home from './components/Home.js';\nimport AddTicketModal from './components/AddTicketModal.js';\nimport UsersContainer from './components/UsersContainer.js';\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\";\nconst userURL = \"http://localhost:3000/api/v1/users\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      avatar: null,\n      count: 0,\n      title: '',\n      price: 0,\n      prizeimage: null,\n      show: false,\n      prize: '',\n      prizes: [],\n      addPrize: false,\n      addTicket: false,\n      user: '',\n      users: [],\n      settings: false,\n      addChild: false\n    };\n\n    this.handlePrizeSubmit = e => {\n      e.preventDefault();\n      const title = e.target.parentNode.children[0].value;\n      const price = e.target.parentNode.children[2].value.split(\" \")[0];\n      const prizeimage = e.target.parentNode.children[3].files[0];\n      this.setState({\n        title,\n        price,\n        prizeimage\n      });\n    };\n\n    this.postPrize = e => {\n      e.preventDefault();\n      const prize = new FormData();\n      prize.append('title', this.state.title);\n      prize.append('price', this.state.price);\n      prize.append('count', 0);\n      fetch(prizeURL, {\n        method: 'POST',\n        body: prize\n      }).catch(err => console.log(err));\n    };\n\n    this.subtractFromCount = () => {\n      const count = this.state.count - this.state.price;\n      this.setState({\n        count\n      });\n      const prizeName = this.state.prize;\n      this.setState({\n        [prizeName]: 15,\n        show: !this.state.show\n      });\n    };\n\n    this.incrementCount = e => {\n      e.preventDefault();\n      const id = e.target.id;\n      const count = e.target.innerHTML;\n      this.setState({\n        count\n      });\n      fetch(userURL + '/' + id, {\n        method: 'PATCH',\n        body: JSON.stringify({\n          count: ++this.state.count\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(res => res.json()).then(json => console.log(json));\n    };\n\n    this.plusTicket = () => {\n      this.setState({\n        count: this.state.count + 1,\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.handleMinusClick = () => {\n      this.setState(({\n        count\n      }) => ({\n        count: count - 1\n      }));\n    };\n\n    this.handlePrizeClick = e => {\n      const newPrize = e.target.alt;\n      const newPrice = this.state[newPrize];\n      this.setState({\n        prize: newPrize,\n        price: newPrice,\n        show: !this.state.show\n      });\n    };\n\n    this.handleUserClick = () => {\n      this.setState({\n        usersShow: !this.state.usersShow,\n        prizeBox: false\n      });\n    };\n\n    this.handlePrizeBoxClick = () => {\n      this.setState({\n        usersShow: false,\n        prizeBox: !this.state.prizeBox\n      });\n    };\n\n    this.handleAddPrizeClick = () => {\n      this.setState({\n        addPrize: !this.state.addPrize\n      });\n    };\n\n    this.handleSettingsCancelClick = () => {\n      this.setState({\n        settings: false\n      });\n    };\n\n    this.handleStarClick = e => {\n      console.log(\"its hitting\");\n      const user = e.target.alt;\n      console.log(e.target.alt);\n      this.setState({\n        addTicket: !this.state.addTicket,\n        user\n      });\n    };\n\n    this.handleSettingsClick = () => {\n      this.setState({\n        settings: !this.state.settings\n      });\n    };\n\n    this.addChild = () => {\n      this.setState({\n        addChild: !this.state.addChild\n      });\n    };\n\n    this.submitChild = e => {\n      e.preventDefault();\n      this.setState({\n        name: e.target.parentNode.children[7].value,\n        avatar: e.target.parentNode.children[9].files[0]\n      });\n    };\n\n    this.postChild = e => {\n      e.preventDefault();\n      console.log(this.state.name);\n      console.log(this.state.avatar);\n      const child = new FormData();\n      child.append('name', this.state.name);\n      child.append('avatar', this.state.avatar);\n      child.append('count', 0);\n      fetch(userURL, {\n        method: 'POST',\n        body: child\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteChild = e => {\n      const id = e.target.id;\n      fetch(userURL + '/' + id, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(res => console.log(res));\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/api/v1', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(stuff => console.log(stuff));\n  } //   fetch( prizeURL , {\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       'Accept': 'application/json'\n  //     }\n  //   })\n  //   .then(res => res.json())\n  //   .then(prizes => this.setState({ prizes }))\n  // }\n  //   fetch( userURL , {\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       'Accept': 'application/json'\n  //     }\n  //   })\n  //   .then(res => res.json())\n  //   .then(users => this.setState({ users }))\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, \"Users\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleUserClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handlePrizeBoxClick,\n      addTicket: this.state.addTicket,\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, \"Prizes\"))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(UsersContainer, {\n      users: this.state.users,\n      count: this.state.count,\n      prizes: this.state.prizes,\n      subtractFromCount: this.subtractFromCount,\n      handlePrizeClick: this.handlePrizeClick,\n      prize: this.state.prize,\n      show: this.state.show,\n      count: this.state.count,\n      plusTicket: this.plusTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PrizesContainer, {\n      postPrize: this.postPrize,\n      handlePrizeSubmit: this.handlePrizeSubmit,\n      prizes: this.state.prizes,\n      handleAddPrizeClick: this.handleAddPrizeClick,\n      addPrize: this.state.addPrize,\n      bouncyball: this.state.bouncyball,\n      dino: this.state.dino,\n      peppa: this.state.peppa,\n      chalk: this.state.chalk,\n      lizards: this.state.lizards,\n      fish: this.state.fish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      deleteChild: this.deleteChild,\n      postChild: this.postChild,\n      submitChild: this.submitChild,\n      showAddChild: this.state.addChild,\n      addChild: this.addChild,\n      settings: this.state.settings,\n      handleSettingsClick: this.handleSettingsClick,\n      handleSettingsCancelClick: this.handleSettingsCancelClick,\n      users: this.state.users,\n      count: this.state.count,\n      incrementCount: this.incrementCount,\n      handleStarClick: this.handleStarClick,\n      addTicket: this.state.addTicket,\n      plusTicket: this.plusTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","settings","Modal","Prize","plus","star","PrizesContainer","Home","AddTicketModal","UsersContainer","prizeURL","userURL","App","state","name","avatar","count","title","price","prizeimage","show","prize","prizes","addPrize","addTicket","user","users","addChild","handlePrizeSubmit","e","preventDefault","target","parentNode","children","value","split","files","setState","postPrize","FormData","append","fetch","method","body","catch","err","console","log","subtractFromCount","prizeName","incrementCount","id","innerHTML","JSON","stringify","headers","then","res","json","plusTicket","handleMinusClick","handlePrizeClick","newPrize","alt","newPrice","handleUserClick","usersShow","prizeBox","handlePrizeBoxClick","handleAddPrizeClick","handleSettingsCancelClick","handleStarClick","handleSettingsClick","submitChild","postChild","child","deleteChild","componentDidMount","stuff","render","bouncyball","dino","peppa","chalk","lizards","fish"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport './App.css';\nimport settings from './settings.jpg'\nimport Modal from './components/Modal'\nimport Prize from './components/Prize';\nimport plus from './plus.png'\nimport star from './Star.png'\nimport PrizesContainer from './containers/PrizesContainer.js'\nimport Home from './components/Home.js'\nimport AddTicketModal from './components/AddTicketModal.js'\nimport UsersContainer from './components/UsersContainer.js'\n\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\"\nconst userURL = \"http://localhost:3000/api/v1/users\"\n\n\nclass App extends Component {\n\n  state = {\n    name: '',\n    avatar: null,\n    count: 0,\n    title: '',\n    price: 0,\n    prizeimage: null,\n    show: false,\n    prize: '',\n    prizes: [],\n    addPrize: false,\n    addTicket: false,\n    user: '',\n    users: [],\n    settings: false,\n    addChild: false\n  }\n\n\n  componentDidMount() {\n\n    fetch( 'http://localhost:3000/api/v1', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n    .then(res => res.json())\n    .then(stuff => console.log(stuff))\n  }\n\n  //   fetch( prizeURL , {\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       'Accept': 'application/json'\n  //     }\n  //   })\n  //   .then(res => res.json())\n  //   .then(prizes => this.setState({ prizes }))\n  // }\n\n//   fetch( userURL , {\n//     headers: {\n//       'Content-Type': 'application/json',\n//       'Accept': 'application/json'\n//     }\n//   })\n//   .then(res => res.json())\n//   .then(users => this.setState({ users }))\n// }\n\n  handlePrizeSubmit = (e) => {\n    e.preventDefault();\n    const title = e.target.parentNode.children[0].value\n    const price = e.target.parentNode.children[2].value.split(\" \")[0]\n    const prizeimage = e.target.parentNode.children[3].files[0]\n    this.setState({ title, price, prizeimage })\n  }\n\n  postPrize = (e) => {\n    e.preventDefault();\n    const prize = new FormData();\n    prize.append('title', this.state.title);\n    prize.append('price', this.state.price);\n    prize.append('count', 0);\n    fetch( prizeURL, {\n      method: 'POST',\n      body: prize\n    })\n    .catch(err => console.log(err));\n  }\n\n  subtractFromCount = () => {\n    const count = this.state.count - this.state.price\n    this.setState({ count })\n    const prizeName = this.state.prize\n    this.setState({\n      [prizeName] : 15,\n      show: !this.state.show\n     })\n  }\n\n  incrementCount = (e) => {\n    e.preventDefault()\n    const id = e.target.id\n    const count = e.target.innerHTML\n    this.setState({ count })\n\n    fetch( userURL + '/' + id, {\n    method: 'PATCH',\n    body: JSON.stringify({\n      count: ++this.state.count\n    }),\n    headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n  })\n  .then(res => res.json())\n  .then(json => console.log(json))\n\n  };\n\n  plusTicket = () => {\n    this.setState({\n      count: this.state.count + 1,\n      addTicket: !this.state.addTicket\n    })\n  }\n\n  handleMinusClick = () => {\n    this.setState(({ count }) => ({\n      count: count - 1\n    }));\n  };\n\nhandlePrizeClick = (e) => {\n  const newPrize = e.target.alt\n  const newPrice = this.state[newPrize]\n  this.setState({\n    prize: newPrize,\n    price: newPrice,\n    show: !this.state.show\n  })\n}\n\nhandleUserClick = () => {\n  this.setState({\n    usersShow: !this.state.usersShow,\n    prizeBox: false\n  })\n}\n\nhandlePrizeBoxClick = () => {\n  this.setState({\n    usersShow: false,\n    prizeBox: !this.state.prizeBox\n  })\n}\n\nhandleAddPrizeClick = () => {\n  this.setState({\n    addPrize: !this.state.addPrize\n  })\n}\n\nhandleSettingsCancelClick = () => {\n  this.setState({\n    settings: false\n  })\n}\n\nhandleStarClick = (e) => {\n  console.log(\"its hitting\")\n  const user = e.target.alt\n  console.log(e.target.alt)\n  this.setState({\n    addTicket: !this.state.addTicket,\n    user\n  })\n}\n\nhandleSettingsClick = () => {\n  this.setState({ settings: !this.state.settings })\n}\n\naddChild = () => {\n  this.setState({\n    addChild: !this.state.addChild\n  })\n}\n\nsubmitChild = (e) => {\n  e.preventDefault();\n\n  this.setState({\n    name: e.target.parentNode.children[7].value,\n    avatar: e.target.parentNode.children[9].files[0]\n   })\n}\n\npostChild = (e) => {\n  e.preventDefault();\n  console.log(this.state.name)\n  console.log(this.state.avatar)\n  const child = new FormData();\n  child.append('name', this.state.name);\n  child.append('avatar', this.state.avatar);\n  child.append('count', 0);\n  fetch( userURL, {\n    method: 'POST',\n    body: child\n  })\n  .catch(err => console.log(err));\n}\n\ndeleteChild = (e) => {\n  const id = e.target.id\n  fetch( userURL + '/' + id, {\n    method: 'DELETE',\n  })\n  .then(res => res.json())\n  .then(res => console.log(res))\n}\n\n\n  render() {\n\n\n    return (\n      <div className=\"App\">\n\n        <Router>\n          <div className=\"nav\">\n            <Link to=\"/users\">\n              <button>Users</button>\n            </Link>\n            <Link to=\"/\">\n              <button onClick={this.handleUserClick} >Home</button>\n            </Link>\n            <Link to=\"/prizes\">\n              <button onClick={this.handlePrizeBoxClick} addTicket={this.state.addTicket} user={this.state.user} >Prizes</button>\n            </Link>\n          </div>\n          <Switch>\n            <Route path=\"/users\">\n              <UsersContainer users={this.state.users}  count={this.state.count} prizes={this.state.prizes} subtractFromCount={this.subtractFromCount} handlePrizeClick={this.handlePrizeClick} prize={this.state.prize} show={this.state.show} count={this.state.count} plusTicket={this.plusTicket} />\n            </Route>\n            <Route path=\"/prizes\">\n              <PrizesContainer postPrize={this.postPrize} handlePrizeSubmit={this.handlePrizeSubmit} prizes={this.state.prizes} handleAddPrizeClick={this.handleAddPrizeClick} addPrize={this.state.addPrize} bouncyball={this.state.bouncyball} dino={this.state.dino} peppa={this.state.peppa} chalk={this.state.chalk} lizards={this.state.lizards} fish={this.state.fish} />\n            </Route>\n            <Route path=\"/\">\n              <Home deleteChild={this.deleteChild} postChild={this.postChild} submitChild={this.submitChild} showAddChild={this.state.addChild} addChild={this.addChild} settings={this.state.settings} handleSettingsClick={this.handleSettingsClick} handleSettingsCancelClick={this.handleSettingsCancelClick} users={this.state.users} count={this.state.count} incrementCount={this.incrementCount} handleStarClick={this.handleStarClick} addTicket={this.state.addTicket} plusTicket={this.plusTicket} />\n            </Route>\n          </Switch>\n        </Router>\n\n  </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}