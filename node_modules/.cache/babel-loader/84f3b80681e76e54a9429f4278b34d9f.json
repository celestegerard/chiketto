{"ast":null,"code":"var _jsxFileName = \"/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/components/Login.js\";\nimport React from \"react\";\nimport { GoogleLogin } from 'react-google-login';\nconst clientId = '1037231150604-hhea5b41gh6e99d24vnhuko4ik5n9mk2.apps.googleusercontent.com';\nconst parentURL = \"http://localhost:3000/api/v1/parents\";\n\nfunction Login() {\n  // const onSuccess = ( res ) => {\n  //   console.log('[Login Success] currentUser:', res.profileObj)\n  //   console.log('id:', res.profileObj.googleId, 'img:', res.profileObj.imageUrl, \"name:\", res.profileObj.name)\n  // }\n  postChild = e => {\n    e.preventDefault();\n    const child = new FormData();\n    child.append('name', this.state.name);\n    child.append('avatar', this.state.avatar);\n    child.append('count', 0);\n\n    const postChild = async () => {\n      const res = await fetch(userURL, {\n        method: 'POST',\n        body: child\n      });\n      const json = await res.json();\n      const loadres = await Promise.all([fetch(prizeURL), fetch(userURL)]);\n      const loadjson = await Promise.all(loadres.map(r => r.json()));\n      const state = await this.setState({\n        prizes: loadjson[0],\n        users: loadjson[1]\n      });\n    };\n\n    postChild();\n    this.setState({\n      settings: false,\n      addChild: false\n    });\n  };\n\n  const yep = res => {\n    const parent = new FormData();\n    parent.append('name', res.profileObj.name);\n    parent.append('googleid', res.profileObj.googleId);\n    parent.append('avatar', res.profileObj.imageUrl);\n    console.log(\"YEW\");\n  };\n\n  const onFailure = res => {\n    console.log('[Login failed] res:', res);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: clientId,\n    buttonText: \"Login\",\n    onSuccess: yep,\n    onFailure: onFailure,\n    cookiePolicy: 'single_host_origin',\n    className: \"Login\",\n    isSignedIn: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/components/Login.js"],"names":["React","GoogleLogin","clientId","parentURL","Login","postChild","e","preventDefault","child","FormData","append","state","name","avatar","res","fetch","userURL","method","body","json","loadres","Promise","all","prizeURL","loadjson","map","r","setState","prizes","users","settings","addChild","yep","parent","profileObj","googleId","imageUrl","console","log","onFailure"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAEA,MAAMC,QAAQ,GAAG,2EAAjB;AACA,MAAMC,SAAS,GAAG,sCAAlB;;AAGA,SAASC,KAAT,GAAiB;AAEb;AACA;AACA;AACA;AACAC,EAAAA,SAAS,GAAIC,CAAD,IAAO;AACjBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,KAAK,GAAG,IAAIC,QAAJ,EAAd;AACAD,IAAAA,KAAK,CAACE,MAAN,CAAa,MAAb,EAAqB,KAAKC,KAAL,CAAWC,IAAhC;AACAJ,IAAAA,KAAK,CAACE,MAAN,CAAa,QAAb,EAAuB,KAAKC,KAAL,CAAWE,MAAlC;AACAL,IAAAA,KAAK,CAACE,MAAN,CAAa,OAAb,EAAsB,CAAtB;;AAEA,UAAML,SAAS,GAAG,YAAY;AAC5B,YAAMS,GAAG,GAAG,MAAMC,KAAK,CAAEC,OAAF,EAAW;AAAEC,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,IAAI,EAAEV;AAAxB,OAAX,CAAvB;AACA,YAAMW,IAAI,GAAG,MAAML,GAAG,CAACK,IAAJ,EAAnB;AACA,YAAMC,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,CAAEP,KAAK,CAAEQ,QAAF,CAAP,EAAqBR,KAAK,CAAEC,OAAF,CAA1B,CAAZ,CAAtB;AACA,YAAMQ,QAAQ,GAAG,MAAMH,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACK,GAAR,CAAYC,CAAC,IAAIA,CAAC,CAACP,IAAF,EAAjB,CAAZ,CAAvB;AACA,YAAMR,KAAK,GAAG,MAAM,KAAKgB,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEJ,QAAQ,CAAC,CAAD,CAAlB;AAAuBK,QAAAA,KAAK,EAAEL,QAAQ,CAAC,CAAD;AAAtC,OAAd,CAApB;AACD,KAND;;AAOAnB,IAAAA,SAAS;AACT,SAAKsB,QAAL,CAAc;AAAEG,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,QAAQ,EAAE;AAA7B,KAAd;AACD,GAhBD;;AAkBA,QAAMC,GAAG,GAAIlB,GAAD,IAAS;AACnB,UAAMmB,MAAM,GAAG,IAAIxB,QAAJ,EAAf;AACAwB,IAAAA,MAAM,CAACvB,MAAP,CAAc,MAAd,EAAsBI,GAAG,CAACoB,UAAJ,CAAetB,IAArC;AACAqB,IAAAA,MAAM,CAACvB,MAAP,CAAc,UAAd,EAA0BI,GAAG,CAACoB,UAAJ,CAAeC,QAAzC;AACAF,IAAAA,MAAM,CAACvB,MAAP,CAAc,QAAd,EAAwBI,GAAG,CAACoB,UAAJ,CAAeE,QAAvC;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD,GAPD;;AASA,QAAMC,SAAS,GAAKzB,GAAF,IAAW;AAC3BuB,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCxB,GAAnC;AACD,GAFD;;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,WAAD;AACA,IAAA,QAAQ,EAAEZ,QADV;AAEA,IAAA,UAAU,EAAC,OAFX;AAGA,IAAA,SAAS,EAAE8B,GAHX;AAIA,IAAA,SAAS,EAAEO,SAJX;AAKA,IAAA,YAAY,EAAE,oBALd;AAMA,IAAA,SAAS,EAAC,OANV;AAOA,IAAA,UAAU,EAAE,IAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADF;AAaD;;AAGH,eAAenC,KAAf","sourcesContent":["import React from \"react\";\nimport { GoogleLogin } from 'react-google-login';\n\nconst clientId = '1037231150604-hhea5b41gh6e99d24vnhuko4ik5n9mk2.apps.googleusercontent.com'\nconst parentURL = \"http://localhost:3000/api/v1/parents\"\n\n\nfunction Login() {\n\n    // const onSuccess = ( res ) => {\n    //   console.log('[Login Success] currentUser:', res.profileObj)\n    //   console.log('id:', res.profileObj.googleId, 'img:', res.profileObj.imageUrl, \"name:\", res.profileObj.name)\n    // }\n    postChild = (e) => {\n      e.preventDefault()\n      const child = new FormData();\n      child.append('name', this.state.name);\n      child.append('avatar', this.state.avatar);\n      child.append('count', 0);\n\n      const postChild = async () => {\n        const res = await fetch( userURL, { method: 'POST', body: child })\n        const json = await res.json()\n        const loadres = await Promise.all([ fetch( prizeURL ), fetch( userURL )])\n        const loadjson = await Promise.all(loadres.map(r => r.json()))\n        const state = await this.setState({ prizes: loadjson[0], users: loadjson[1] })\n      }\n      postChild()\n      this.setState({ settings: false, addChild: false })\n    }\n\n    const yep = (res) => {\n      const parent = new FormData();\n      parent.append('name', res.profileObj.name);\n      parent.append('googleid', res.profileObj.googleId);\n      parent.append('avatar', res.profileObj.imageUrl);\n\n      console.log(\"YEW\")\n    }\n\n    const onFailure = ( res ) => {\n      console.log('[Login failed] res:', res)\n    }\n\n    return (\n      <div>\n      <GoogleLogin\n      clientId={clientId}\n      buttonText=\"Login\"\n      onSuccess={yep}\n      onFailure={onFailure}\n      cookiePolicy={'single_host_origin'}\n      className=\"Login\"\n      isSignedIn={true}\n      />\n      </div>\n    )\n  }\n\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}