{"ast":null,"code":"var _jsxFileName = \"/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport PrizesContainer from './containers/PrizesContainer.js';\nimport Home from './components/Home.js';\nimport UsersContainer from './components/UsersContainer.js';\nimport UserScreen from './UserScreen.png';\nimport PrizeScreen from './PrizeScreen.png';\nimport UserScreenSelect from './UserScreenSelect.png';\nimport PrizeScreenSelect from './PrizeScreenSelect.png';\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\";\nconst userURL = \"http://localhost:3000/api/v1/users\";\n\nconst loadData = async () => {\n  const res = await Promise.all([fetch(prizeURL), fetch(userURL)]);\n  const json = await Promise.all(res.map(r => r.json()));\n  console.log(res, json); // const data = await this.setState({ prizes: data[0], users: data[1] })\n};\n\nloadData(); // const doFetch = async () => {\n//       setLoading(true);\n//       try {\n//         const res = await fetch(url, options);\n//         const json = await res.json();\n//         if (!signal.aborted) {\n//           setResponse(json);\n//         }\n//       } catch (e) {\n//         if (!signal.aborted) {\n//           setError(e);\n//         }\n//       } finally {\n//         if (!signal.aborted) {\n//           setLoading(false);\n//         }\n//       }\n//     };\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      avatar: null,\n      count: 0,\n      title: '',\n      price: 0,\n      prizeimage: null,\n      show: false,\n      prize: '',\n      prizeid: '',\n      prizes: [],\n      addPrize: false,\n      addTicket: false,\n      user: '',\n      userid: '',\n      users: [],\n      settings: false,\n      addChild: false,\n      status: '',\n      fetch: [],\n      page: false,\n      buyPrize: false,\n      homepage: true,\n      showDeletePrize: false\n    };\n\n    this.postChild = e => {\n      e.preventDefault();\n      const child = new FormData();\n      child.append('name', this.state.name);\n      child.append('avatar', this.state.avatar);\n      child.append('count', 0);\n\n      const postChild = async () => {\n        const res = await fetch(userURL, {\n          method: 'POST',\n          body: child\n        });\n        const json = await res.json();\n        const loadres = await Promise.all([fetch(prizeURL), fetch(userURL)]);\n        const loadjson = await Promise.all(loadres.map(r => r.json()));\n        console.log(res, json, loadres, loadjson);\n      };\n\n      postChild();\n      this.setState({\n        settings: false\n      });\n    };\n\n    this.handlePrizeSubmit = e => {\n      e.preventDefault();\n      const title = e.target.parentNode.children[0].value;\n      const price = e.target.parentNode.children[2].value.split(\" \")[0];\n      const prizeimage = e.target.parentNode.children[4].files[0];\n      this.setState({\n        title,\n        price,\n        prizeimage\n      });\n    };\n\n    this.postPrize = e => {\n      e.preventDefault();\n      const prize = new FormData();\n      prize.append('title', this.state.title);\n      prize.append('price', this.state.price);\n      prize.append('prizeimage', this.state.prizeimage);\n      prize.append('count', 0);\n      fetch(prizeURL, {\n        method: 'POST',\n        body: prize\n      }).then(res => res.json()).then(json => console.log(json)).then(this.setState({\n        addPrize: false\n      }));\n    };\n\n    this.subtractFromCount = () => {\n      const count = this.state.count - this.state.price;\n      this.setState({\n        count\n      });\n      const prizeName = this.state.prize;\n      this.setState({\n        [prizeName]: 15,\n        show: !this.state.show\n      });\n    };\n\n    this.incrementCount = e => {\n      e.preventDefault();\n      const user = e.target.parentNode.id;\n      const count = e.target.innerHTML;\n      const userid = e.target.id;\n      this.setState({\n        count,\n        user,\n        userid\n      });\n      this.setState({\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.plusTicket = e => {\n      console.log(\"YEY\");\n      const id = this.state.userid;\n      fetch(userURL + '/' + id, {\n        method: 'PATCH',\n        body: JSON.stringify({\n          count: ++this.state.count\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(res => res.json()).then(json => console.log(json)).finally(this.reloadData()).finally(this.setState({\n        addTicket: !this.state.addTicket\n      }));\n    };\n\n    this.handleMinusClick = () => {\n      this.setState(({\n        count\n      }) => ({\n        count: count - 1\n      }));\n    };\n\n    this.handlePrizeClick = e => {\n      const newPrize = e.target.alt;\n      const newPrice = this.state[newPrize];\n      this.setState({\n        prize: newPrize,\n        price: newPrice,\n        show: !this.state.show\n      });\n    };\n\n    this.handleUserClick = () => {\n      this.setState({\n        homepage: true\n      });\n    };\n\n    this.handleAddPrizeClick = () => {\n      this.setState({\n        addPrize: !this.state.addPrize\n      });\n    };\n\n    this.handleBuyPrizeClick = e => {\n      const prizeid = e.target.id;\n      const price = e.target.parentNode.children[1].children[0].innerHTML;\n      const prize = e.target.alt;\n      this.setState({\n        prize,\n        price,\n        prizeid\n      });\n      this.setState({\n        buyPrize: !this.state.buyPrize\n      });\n    };\n\n    this.handleSettingsCancelClick = () => {\n      this.setState({\n        settings: false\n      });\n    };\n\n    this.AddStarNoClick = () => {\n      this.setState({\n        addTicket: !this.state.addTicket\n      });\n    };\n\n    this.handleStarClick = e => {\n      const user = e.target.alt;\n      this.setState({\n        addTicket: !this.state.addTicket,\n        user\n      });\n    };\n\n    this.handleSettingsClick = () => {\n      this.setState({\n        settings: !this.state.settings\n      });\n    };\n\n    this.addChild = () => {\n      this.setState({\n        addChild: !this.state.addChild\n      });\n    };\n\n    this.submitChild = e => {\n      e.preventDefault();\n      this.setState({\n        name: e.target.parentNode.children[8].value,\n        avatar: e.target.parentNode.children[10].files[0]\n      });\n    };\n\n    this.deleteChild = e => {\n      e.preventDefault();\n      const id = e.target.id;\n      fetch(userURL + '/' + id, {\n        method: 'DELETE'\n      }).then(this.setState({\n        settings: false\n      }));\n    };\n\n    this.handlePrizePageClick = () => {\n      this.setState({\n        homepage: false\n      });\n    };\n\n    this.deletePrize = e => {\n      e.preventDefault();\n      const id = e.target.id;\n      fetch(prizeURL + '/' + id, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(res => console.log(res));\n    };\n\n    this.handleShowDeletePrize = () => {\n      this.setState({\n        showDeletePrize: !this.state.deletePrize\n      });\n    };\n\n    this.closeDeletePrize = () => {\n      this.setState({\n        showDeletePrize: false\n      });\n    };\n\n    this.cancelBuyPrize = () => {\n      this.setState({\n        buyPrize: false\n      });\n    };\n\n    this.prepBuyPrize = e => {\n      e.preventDefault();\n      const username = e.target.parentNode.children[1].value;\n      const finduser = this.state.users.find(user => user.name === username);\n      const userid = finduser.id;\n      const count = finduser.count;\n      const findprize = this.state.prizes.find(prize => prize.title === this.state.prize);\n      const prizeid = findprize.id;\n      this.setState({\n        count,\n        userid,\n        prizeid\n      });\n    };\n\n    this.postBuyPrize = e => {\n      e.preventDefault();\n      const id = this.state.userid;\n      fetch(userURL + '/' + id, {\n        method: 'PATCH',\n        body: JSON.stringify({\n          count: this.state.count - this.state.price\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(res => res.json()).then(json => console.log(json)).then(this.setState({\n        buyPrize: false\n      }));\n      const prizeid = this.state.prizeid;\n      fetch(prizeURL + '/' + prizeid, {\n        method: 'DELETE'\n      }).then(res => res.json()).then(res => console.log(res));\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch(prizeURL), fetch(userURL)]).then(results => Promise.all(results.map(r => r.json()))).then(d => this.setState({\n      prizes: d[0],\n      users: d[1]\n    }));\n  } // const loadData = async () => {\n  //   const res = await Promise.all([ fetch( prizeURL ), fetch( userURL )])\n  //   const json = await Promise.all(res.map(r => r.json()))\n  //   console.log(res, json)\n  //   // const data = await this.setState({ prizes: data[0], users: data[1] })\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 13\n      }\n    }, this.state.homepage ? /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"userscreen\",\n      className: \"nav-button-star-yellow\",\n      src: UserScreenSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 39\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"nav star\",\n      className: \"nav-button-star\",\n      onClick: this.handleUserClick,\n      src: UserScreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      to: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }\n    }, !this.state.homepage ? /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"nav yellow circle\",\n      className: \"nav-button-circle-yellow\",\n      src: PrizeScreenSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 40\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"nav button circle\",\n      className: \"nav-button-circle\",\n      onClick: this.handlePrizePageClick,\n      user: this.state.user,\n      src: PrizeScreen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/prizes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PrizesContainer, {\n      prepBuyPrize: this.prepBuyPrize,\n      postBuyPrize: this.postBuyPrize,\n      cancelBuyPrize: this.cancelBuyPrize,\n      price: this.state.price,\n      users: this.state.users,\n      prize: this.state.prize,\n      buyPrize: this.state.buyPrize,\n      handleBuyPrizeClick: this.handleBuyPrizeClick,\n      handleShowDeletePrize: this.handleShowDeletePrize,\n      showDeletePrize: this.state.showDeletePrize,\n      closeDeletePrize: this.closeDeletePrize,\n      deletePrize: this.deletePrize,\n      postPrize: this.postPrize,\n      handlePrizeSubmit: this.handlePrizeSubmit,\n      prizes: this.state.prizes,\n      handleAddPrizeClick: this.handleAddPrizeClick,\n      addPrize: this.state.addPrize,\n      bouncyball: this.state.bouncyball,\n      dino: this.state.dino,\n      peppa: this.state.peppa,\n      chalk: this.state.chalk,\n      lizards: this.state.lizards,\n      fish: this.state.fish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      user: this.state.user,\n      cancel: this.AddStarNoClick,\n      fetch: this.state.fetch,\n      deleteChild: this.deleteChild,\n      postChild: this.postChild,\n      submitChild: this.submitChild,\n      showAddChild: this.state.addChild,\n      addChild: this.addChild,\n      settings: this.state.settings,\n      handleSettingsClick: this.handleSettingsClick,\n      handleSettingsCancelClick: this.handleSettingsCancelClick,\n      users: this.state.users,\n      count: this.state.count,\n      incrementCount: this.incrementCount,\n      handleStarClick: this.handleStarClick,\n      addTicket: this.state.addTicket,\n      plusticket: this.plusTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/celestegerard/Development/code/celesteneue/chiketto_f/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","PrizesContainer","Home","UsersContainer","UserScreen","PrizeScreen","UserScreenSelect","PrizeScreenSelect","prizeURL","userURL","loadData","res","Promise","all","fetch","json","map","r","console","log","App","state","name","avatar","count","title","price","prizeimage","show","prize","prizeid","prizes","addPrize","addTicket","user","userid","users","settings","addChild","status","page","buyPrize","homepage","showDeletePrize","postChild","e","preventDefault","child","FormData","append","method","body","loadres","loadjson","setState","handlePrizeSubmit","target","parentNode","children","value","split","files","postPrize","then","subtractFromCount","prizeName","incrementCount","id","innerHTML","plusTicket","JSON","stringify","headers","finally","reloadData","handleMinusClick","handlePrizeClick","newPrize","alt","newPrice","handleUserClick","handleAddPrizeClick","handleBuyPrizeClick","handleSettingsCancelClick","AddStarNoClick","handleStarClick","handleSettingsClick","submitChild","deleteChild","handlePrizePageClick","deletePrize","handleShowDeletePrize","closeDeletePrize","cancelBuyPrize","prepBuyPrize","username","finduser","find","findprize","postBuyPrize","componentDidMount","results","d","render","bouncyball","dino","peppa","chalk","lizards","fish"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport './App.css';\nimport PrizesContainer from './containers/PrizesContainer.js'\nimport Home from './components/Home.js'\nimport UsersContainer from './components/UsersContainer.js'\nimport UserScreen from './UserScreen.png'\nimport PrizeScreen from './PrizeScreen.png'\nimport UserScreenSelect from './UserScreenSelect.png'\nimport PrizeScreenSelect from './PrizeScreenSelect.png'\n\n\nconst prizeURL = \"http://localhost:3000/api/v1/prizes\"\nconst userURL = \"http://localhost:3000/api/v1/users\"\n\nconst loadData = async () => {\n  const res = await Promise.all([ fetch( prizeURL ), fetch( userURL )])\n  const json = await Promise.all(res.map(r => r.json()))\n  console.log(res, json)\n  // const data = await this.setState({ prizes: data[0], users: data[1] })\n}\n\nloadData();\n\n// const doFetch = async () => {\n//       setLoading(true);\n//       try {\n//         const res = await fetch(url, options);\n//         const json = await res.json();\n//         if (!signal.aborted) {\n//           setResponse(json);\n//         }\n//       } catch (e) {\n//         if (!signal.aborted) {\n//           setError(e);\n//         }\n//       } finally {\n//         if (!signal.aborted) {\n//           setLoading(false);\n//         }\n//       }\n//     };\n\n\nclass App extends Component {\n\n  state = {\n    name: '',\n    avatar: null,\n    count: 0,\n    title: '',\n    price: 0,\n    prizeimage: null,\n    show: false,\n    prize: '',\n    prizeid: '',\n    prizes: [],\n    addPrize: false,\n    addTicket: false,\n    user: '',\n    userid:'',\n    users: [],\n    settings: false,\n    addChild: false,\n    status: '',\n    fetch: [],\n    page: false,\n    buyPrize: false,\n    homepage: true,\n    showDeletePrize: false\n  }\n\n\n  componentDidMount() {\n\n    Promise.all([\n      fetch( prizeURL ),\n      fetch( userURL ),\n    ]).then((results) =>\n    Promise.all(results.map(r => r.json()))\n  ).then(d => this.setState({ prizes: d[0], users: d[1] })\n)\n\n}\n\n// const loadData = async () => {\n//   const res = await Promise.all([ fetch( prizeURL ), fetch( userURL )])\n//   const json = await Promise.all(res.map(r => r.json()))\n//   console.log(res, json)\n//   // const data = await this.setState({ prizes: data[0], users: data[1] })\n// }\n\npostChild = (e) => {\n  e.preventDefault()\n  const child = new FormData();\n  child.append('name', this.state.name);\n  child.append('avatar', this.state.avatar);\n  child.append('count', 0);\n\n  const postChild = async () => {\n    const res = await fetch( userURL, { method: 'POST', body: child })\n    const json = await res.json()\n    const loadres = await Promise.all([ fetch( prizeURL ), fetch( userURL )])\n    const loadjson = await Promise.all(loadres.map(r => r.json()))\n    console.log(res, json, loadres, loadjson)\n  }\n  postChild()\n\n  this.setState({ settings: false })\n}\n\n  handlePrizeSubmit = (e) => {\n    e.preventDefault();\n    const title = e.target.parentNode.children[0].value\n    const price = e.target.parentNode.children[2].value.split(\" \")[0]\n    const prizeimage = e.target.parentNode.children[4].files[0]\n    this.setState({ title, price, prizeimage })\n  }\n\n  postPrize = (e) => {\n    e.preventDefault();\n    const prize = new FormData();\n    prize.append('title', this.state.title);\n    prize.append('price', this.state.price);\n    prize.append('prizeimage', this.state.prizeimage);\n    prize.append('count', 0);\n    fetch( prizeURL, {\n      method: 'POST',\n      body: prize\n    })\n    .then(res => res.json())\n    .then(json => console.log(json))\n    .then(this.setState({ addPrize: false }))\n  }\n\n\n  subtractFromCount = () => {\n    const count = this.state.count - this.state.price\n    this.setState({ count })\n    const prizeName = this.state.prize\n    this.setState({\n      [prizeName] : 15,\n      show: !this.state.show\n     })\n  }\n\n  incrementCount = (e) => {\n    e.preventDefault()\n    const user = e.target.parentNode.id\n    const count = e.target.innerHTML\n    const userid = e.target.id\n\n    this.setState({ count , user, userid  })\n    this.setState({ addTicket: !this.state.addTicket})\n\n  };\n\n  plusTicket = (e) => {\n\n    console.log(\"YEY\")\n    const id = this.state.userid\n\n    fetch( userURL + '/' + id, {\n    method: 'PATCH',\n    body: JSON.stringify({\n      count: ++this.state.count\n    }),\n    headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n  })\n  .then(res => res.json())\n  .then(json => console.log(json))\n  .finally(this.reloadData())\n  .finally(this.setState({ addTicket: !this.state.addTicket }))\n\n  }\n\n\n  handleMinusClick = () => {\n    this.setState(({ count }) => ({\n      count: count - 1\n    }));\n  };\n\nhandlePrizeClick = (e) => {\n  const newPrize = e.target.alt\n  const newPrice = this.state[newPrize]\n  this.setState({\n    prize: newPrize,\n    price: newPrice,\n    show: !this.state.show\n  })\n}\n\nhandleUserClick = () => {\n  this.setState({ homepage: true })\n}\n\nhandleAddPrizeClick = () => {\n  this.setState({\n    addPrize: !this.state.addPrize\n  })\n}\n\nhandleBuyPrizeClick = (e) => {\n  const prizeid = e.target.id\n  const price = e.target.parentNode.children[1].children[0].innerHTML\n  const prize = e.target.alt\n  this.setState({ prize, price, prizeid })\n  this.setState({\n    buyPrize: !this.state.buyPrize\n  })\n}\n\nhandleSettingsCancelClick = () => {\n  this.setState({\n    settings: false\n  })\n}\n\nAddStarNoClick = () => {\n  this.setState({ addTicket: !this.state.addTicket })\n}\n\nhandleStarClick = (e) => {\n  const user = e.target.alt\n  this.setState({\n    addTicket: !this.state.addTicket,\n    user\n  })\n}\n\nhandleSettingsClick = () => {\n  this.setState({ settings: !this.state.settings })\n}\n\naddChild = () => {\n  this.setState({\n    addChild: !this.state.addChild\n  })\n}\n\nsubmitChild = (e) => {\n  e.preventDefault()\n\n  this.setState({\n    name: e.target.parentNode.children[8].value,\n    avatar: e.target.parentNode.children[10].files[0]\n   })\n}\n\n\ndeleteChild = (e) => {\n  e.preventDefault();\n  const id = e.target.id\n  fetch( userURL + '/' + id, {\n    method: 'DELETE',\n  })\n  .then(this.setState({ settings: false }))\n}\n\nhandlePrizePageClick = () => {\n  this.setState({ homepage: false })\n}\n\ndeletePrize = (e) => {\n  e.preventDefault();\n  const id = e.target.id\n  fetch( prizeURL + '/' + id, {\n    method: 'DELETE',\n  })\n  .then(res => res.json())\n  .then(res => console.log(res))\n}\n\nhandleShowDeletePrize = () => {\n  this.setState({\n    showDeletePrize: !this.state.deletePrize\n   })\n}\n\ncloseDeletePrize = () => {\n  this.setState({ showDeletePrize: false })\n}\n\ncancelBuyPrize = () => {\n  this.setState({ buyPrize: false })\n}\n\nprepBuyPrize = (e) => {\n  e.preventDefault()\n  const username = e.target.parentNode.children[1].value\n  const finduser = this.state.users.find( user => user.name === username )\n  const userid = finduser.id\n  const count = finduser.count\n\n  const findprize = this.state.prizes.find( prize => prize.title === this.state.prize)\n  const prizeid = findprize.id\n\n  this.setState({ count, userid, prizeid })\n\n}\n\npostBuyPrize = (e) => {\n  e.preventDefault()\n\n  const id = this.state.userid\n\n  fetch( userURL + '/' + id, {\n  method: 'PATCH',\n  body: JSON.stringify({\n    count: this.state.count - this.state.price\n  }),\n  headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n})\n.then(res => res.json())\n.then(json => console.log(json))\n.then(this.setState({ buyPrize: false }))\n\n\nconst prizeid = this.state.prizeid\n\nfetch( prizeURL + '/' + prizeid, {\n  method: 'DELETE',\n})\n.then(res => res.json())\n.then(res => console.log(res))\n}\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <Router>\n          <div className=\"nav\">\n            <Link to=\"/\">\n              { this.state.homepage ? <img alt=\"userscreen\" className=\"nav-button-star-yellow\" src={UserScreenSelect} /> : null }\n              <img alt=\"nav star\" className=\"nav-button-star\" onClick={this.handleUserClick} src={UserScreen} />\n            </Link>\n            <Link to=\"/prizes\">\n              { !this.state.homepage ? <img alt=\"nav yellow circle\" className=\"nav-button-circle-yellow\" src={PrizeScreenSelect} /> : null }\n              <img alt=\"nav button circle\" className=\"nav-button-circle\" onClick={this.handlePrizePageClick}  user={this.state.user} src={PrizeScreen} />\n            </Link>\n          </div>\n          <Switch>\n            <Route path=\"/prizes\">\n              <PrizesContainer prepBuyPrize={this.prepBuyPrize} postBuyPrize={this.postBuyPrize} cancelBuyPrize={this.cancelBuyPrize} price={this.state.price} users={this.state.users} prize={this.state.prize} buyPrize={this.state.buyPrize} handleBuyPrizeClick={this.handleBuyPrizeClick} handleShowDeletePrize={this.handleShowDeletePrize} showDeletePrize={this.state.showDeletePrize} closeDeletePrize={this.closeDeletePrize} deletePrize={this.deletePrize} postPrize={this.postPrize} handlePrizeSubmit={this.handlePrizeSubmit} prizes={this.state.prizes} handleAddPrizeClick={this.handleAddPrizeClick} addPrize={this.state.addPrize} bouncyball={this.state.bouncyball} dino={this.state.dino} peppa={this.state.peppa} chalk={this.state.chalk} lizards={this.state.lizards} fish={this.state.fish} />\n            </Route>\n            <Route path=\"/\">\n              <Home user={this.state.user} cancel={this.AddStarNoClick} fetch={this.state.fetch} deleteChild={this.deleteChild} postChild={this.postChild} submitChild={this.submitChild} showAddChild={this.state.addChild} addChild={this.addChild} settings={this.state.settings} handleSettingsClick={this.handleSettingsClick} handleSettingsCancelClick={this.handleSettingsCancelClick} users={this.state.users} count={this.state.count} incrementCount={this.incrementCount} handleStarClick={this.handleStarClick} addTicket={this.state.addTicket} plusticket={this.plusTicket} />\n            </Route>\n          </Switch>\n        </Router>\n\n  </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}